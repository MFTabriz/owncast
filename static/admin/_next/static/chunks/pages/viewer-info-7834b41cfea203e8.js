(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[194],{87547:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1413),a=n(67294),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},o=n(42135),c=function(e,t){return a.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:t,icon:i}))};c.displayName="UserOutlined";var s=a.forwardRef(c)},31709:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/viewer-info",function(){return n(78632)}])},89270:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),a=n(31877),i=n(92616),o=n.n(i),c=n(58091),s=n(60727);function u(e){var t={};return e.forEach((function(e){var n=new Date(e.time),r=(0,c.Z)(n,"H:mma");t[r]=e.value})),t}function l(e){var t=e.data,n=e.title,a=e.color,i=e.unit,o=e.dataCollections,c=[];return t&&t.length>0&&c.push({name:n,color:a,data:u(t)}),o.forEach((function(e){c.push({name:e.name,data:u(e.data),color:e.color})})),(0,r.jsx)("div",{className:"line-chart-container",children:(0,r.jsx)(s.wW,{xtitle:"Time",ytitle:n,suffix:i,legend:"bottom",color:a,data:c,download:n})})}o().use(a.Z),l.defaultProps={dataCollections:[],data:[],title:""}},34440:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(85893),a=n(84485),i=n(97910),o=n(74763),c=n(97751);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var l=a.Z.Text,f={title:"",value:0,prefix:null,color:"",progress:!1,centered:!1,formatter:null};function d(e){var t=e.title,n=e.value,a=e.prefix,o=e.color,c=n>90?"red":o,s=(0,r.jsxs)("div",{children:[a,(0,r.jsx)("div",{children:(0,r.jsx)(l,{type:"secondary",children:t})}),(0,r.jsx)("div",{children:(0,r.jsxs)(l,{type:"secondary",children:[n,"%"]})})]});return(0,r.jsx)(i.Z,{type:"dashboard",percent:n,width:120,strokeColor:{"0%":o,"90%":c},format:function(){return s}})}function v(e){var t=e.title,n=e.value,a=e.prefix,i=e.formatter;return(0,r.jsx)(o.Z,{title:t,value:n,prefix:a,formatter:i})}function x(e){var t=e.progress?d:v,n=e.centered?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return(0,r.jsx)(c.Z,{type:"inner",children:(0,r.jsx)("div",{style:n,children:(0,r.jsx)(t,u({},e))})})}d.defaultProps=f,v.defaultProps=f,x.defaultProps=f},78632:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(34051),a=n.n(r),i=n(85893),o=n(67294),c=n(84485),s=n(25968),u=n(6226),l=n(87547),f=n(89270),d=n(34440),v=n(15193),x=n(85533),p=n(2766);function h(e){var t=e.data,n=[{title:"User Agent",dataIndex:"userAgent",key:"userAgent",render:function(e){return(0,p.AB)(e)}},{title:"Location",dataIndex:"geo",key:"geo",render:function(e){return e?"".concat(e.regionName,", ").concat(e.countryCode):"-"}},{title:"Watch Time",dataIndex:"firstSeen",key:"firstSeen",defaultSortOrder:"ascend",render:function(e){return(0,x.Z)(new Date(e))},sorter:function(e,t){return new Date(e.firstSeen).getTime()-new Date(t.firstSeen).getTime()},sortDirections:["descend","ascend"]}];return(0,i.jsx)(v.Z,{pagination:{hideOnSinglePage:!0},className:"table-container",columns:n,dataSource:t,size:"small",rowKey:"id"})}var m=n(35159),j=n(58827);function w(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,a)}function g(){var e=(0,o.useContext)(m.aC)||{},t=e.online,n=e.viewerCount,r=e.overallPeakViewerCount,v=e.sessionPeakViewerCount,x=(0,o.useState)([]),p=x[0],g=x[1],y=(0,o.useState)([]),Z=y[0],b=y[1],S=function(){var e,t=(e=a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,j.rQ)(j.iV);case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("==== error",e.t0);case 10:return e.prev=10,e.next=13,(0,j.rQ)(j.a_);case 13:n=e.sent,b(n),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10),console.log("==== error",e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){w(i,r,a,o,c,"next",e)}function c(e){w(i,r,a,o,c,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=null;return S(),t?(e=setInterval(S,6e4),function(){clearInterval(e)}):function(){return[]}}),[t]),p.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z.Title,{children:"Viewer Info"}),(0,i.jsx)("br",{}),(0,i.jsxs)(s.Z,{gutter:[16,16],justify:"space-around",children:[t&&(0,i.jsx)(u.Z,{span:8,md:8,children:(0,i.jsx)(d.Z,{title:"Current viewers",value:n.toString(),prefix:(0,i.jsx)(l.Z,{})})}),(0,i.jsx)(u.Z,{md:t?8:12,children:(0,i.jsx)(d.Z,{title:t?"Max viewers this session":"Max viewers last session",value:v.toString(),prefix:(0,i.jsx)(l.Z,{})})}),(0,i.jsx)(u.Z,{md:t?8:12,children:(0,i.jsx)(d.Z,{title:"All-time max viewers",value:r.toString(),prefix:(0,i.jsx)(l.Z,{})})})]}),(0,i.jsx)(f.Z,{title:"Viewers",data:p,color:"#2087E2",unit:""}),(0,i.jsx)(h,{data:Z})]}):"no info"}}},function(e){e.O(0,[570,193,91,961,308,138,910,80,774,888,179],(function(){return t=31709,e(e.s=t);var t}));var t=e.O();_N_E=t}]);