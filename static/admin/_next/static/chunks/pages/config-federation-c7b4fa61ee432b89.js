(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{50291:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config-federation",function(){return t(6898)}])},10063:function(e,n,t){"use strict";t.d(n,{Q:function(){return u},Z:function(){return d}});var a=t(85893),i=t(67294),s=t(44068),r=t(20550),o=t(48419),l=t(78464),c=s.Z.Title,u="#5a67d8";function d(e){var n=(0,i.useState)(""),t=n[0],s=n[1],d=e.title,h=e.description,f=e.placeholder,p=e.maxLength,m=e.values,v=e.handleDeleteIndex,g=e.handleCreateString,b=e.submitStatus,x=e.continuousStatusMessage;return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(c,{level:3,className:"section-title",children:d}),(0,a.jsx)("p",{className:"description",children:h}),(0,a.jsx)("div",{className:"edit-current-strings",children:null===m||void 0===m?void 0:m.map((function(e,n){return(0,a.jsx)(r.Z,{closable:!0,onClose:function(){v(n)},color:u,children:e},"tag-".concat(e,"-").concat(n))}))}),x&&(0,a.jsx)("div",{className:"continuous-status-section",children:(0,a.jsx)(l.Z,{status:x})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(o.ZP,{fieldName:"string-input",value:t,onChange:function(e){var n=e.value;s(n)},onPressEnter:function(){var e=t.trim();g(e),s("")},maxLength:p,placeholder:f,status:b})})]})}d.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},15976:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var a=t(34051),i=t.n(a),s=t(85893),r=t(67294),o=t(94594),l=t(83200),c=t(78464),u=t(25964),d=t(35159);function h(e,n,t,a,i,s,r){try{var o=e[s](r),l=o.value}catch(c){return void t(c)}o.done?n(l):Promise.resolve(l).then(a,i)}function f(e){var n=(0,r.useState)(null),t=n[0],a=n[1],f=null,p=((0,r.useContext)(d.aC)||{}).setFieldInConfigState,m=e.apiPath,v=e.checked,g=e.reversed,b=void 0!==g&&g,x=e.configPath,w=void 0===x?"":x,j=e.disabled,y=void 0!==j&&j,k=e.fieldName,P=e.label,N=e.tip,S=e.useSubmit,C=e.onChange,Z=function(){a(null),clearTimeout(f),f=null},E=function(){var e,n=(e=i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=6;break}return a((0,l.kg)(l.Jk)),t=b?!n:n,e.next=5,(0,u.Si)({apiPath:m,data:{value:t},onSuccess:function(){p({fieldName:k,value:t,path:w}),a((0,l.kg)(l.zv))},onError:function(e){a((0,l.kg)(l.Un,"There was an error: ".concat(e)))}});case 5:f=setTimeout(Z,u.sI);case 6:C&&C(n);case 7:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(a,i){var s=e.apply(n,t);function r(e){h(s,a,i,r,o,"next",e)}function o(e){h(s,a,i,r,o,"throw",e)}r(void 0)}))});return function(e){return n.apply(this,arguments)}}(),T=null!==t&&t.type===l.Jk;return(0,s.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[P&&(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:P})}),(0,s.jsxs)("div",{className:"input-side",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)(o.Z,{className:"switch field-".concat(k),loading:T,onChange:E,defaultChecked:v,checked:v,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:y}),(0,s.jsx)(c.Z,{status:t})]}),(0,s.jsx)("p",{className:"field-tip",children:N})]})]})}f.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},6898:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var a=t(85893),i=t(56516),s=t(71577),r=t(44068),o=t(25968),l=t(6226),c=t(67294),u=t(45697),d=t.n(u),h=t(48419),f=t(50197),p=t(15976),m=t(10063),v=t(25964),g=t(35159),b=t(83200);function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(n){x(e,n,t[n])}))}return e}function j(e){var n=e.cancelPressed,t=e.okPressed;return(0,a.jsxs)(i.Z,{width:"70%",title:"Enable Social Features",visible:!0,onCancel:n,footer:(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{onClick:n,children:"Do not enable"}),(0,a.jsx)(s.Z,{type:"primary",onClick:t,children:"Enable Social Features"})]}),children:[(0,a.jsx)(r.Z.Title,{level:3,children:"How do Owncast's social features work?"}),(0,a.jsxs)(r.Z.Paragraph,{children:["Owncast's social features are accomplished by having your server join The"," ",(0,a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Fediverse",rel:"noopener noreferrer",target:"_blank",children:"Fediverse"}),", a decentralized, open, collection of independent servers, like yours."]}),"Please"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"read more"})," ","about these features, the details behind them, and how they work.",(0,a.jsx)(r.Z.Paragraph,{}),(0,a.jsx)(r.Z.Title,{level:3,children:"What do you need to know?"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"These features are brand new. Given the variability of interfacing with the rest of the world, bugs are possible. Please report anything that you think isn't working quite right."}),(0,a.jsx)("li",{children:"You must always host your Owncast server with SSL using a https url."}),(0,a.jsx)("li",{children:"You should not change your server name URL or social username once people begin following you, as you will be seen as a completely different user on the Fediverse, and the old user will disappear."}),(0,a.jsxs)("li",{children:["Turning on ",(0,a.jsx)("i",{children:"Private mode"})," will allow you to manually approve each follower and limit the visibility of your posts to followers only."]})]}),(0,a.jsx)(r.Z.Title,{level:3,children:"Learn more about The Fediverse"}),(0,a.jsxs)(r.Z.Paragraph,{children:["If these concepts are new you should discover more about what this functionality has to offer. Visit"," ",(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"our documentation"})," ","to be pointed at some resources that will help get you started on The Fediverse."]})]})}function y(){var e=function(){E(null)},n=function(){try{(0,v.Si)({apiPath:v.pE,data:{value:s.blockedDomains},onSuccess:function(){S({fieldName:"forbiddenUsernames",value:s.forbiddenUsernames}),E(b.zv),setTimeout(e,v.sI)},onError:function(n){E((0,b.kg)(b.Un,n)),setTimeout(e,v.sI)}})}catch(n){console.error(n),E(b.Un)}},t=r.Z.Title,i=(0,c.useState)(null),s=i[0],u=i[1],d=(0,c.useState)(!1),y=d[0],k=d[1],P=(0,c.useContext)(g.aC)||{},N=P.serverConfig,S=P.setFieldInConfigState,C=(0,c.useState)(null),Z=C[0],E=C[1],T=N.federation,O=N.yp,_=N.instanceDetails,U=T.enabled,F=T.isPrivate,D=T.username,L=T.goLiveMessage,I=T.showEngagement,R=T.blockedDomains,M=O.instanceUrl,q=_.nsfw,V=function(e){var n=e.fieldName,t=e.value;u(w({},s,x({},n,t)))};if((0,c.useEffect)((function(){u({enabled:U,isPrivate:F,username:D,goLiveMessage:L,showEngagement:I,blockedDomains:R,nsfw:q,instanceUrl:O.instanceUrl})}),[N,O]),!s)return null;var z=""!==M,K=M.startsWith("https://");return(0,a.jsxs)("div",{children:[(0,a.jsx)(t,{children:"Configure Social Features"}),(0,a.jsx)("p",{children:"Owncast provides the ability for people to follow and engage with your instance. It's a great way to promote alerting, sharing and engagement of your stream."}),(0,a.jsx)("p",{children:"Once enabled you'll alert your followers when you go live as well as gain the ability to compose custom posts to share any information you like."}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:"https://owncast.online/docs/social",rel:"noopener noreferrer",target:"_blank",children:"Read more about the specifics of these social features."})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsxs)(l.Z,{span:15,className:"form-module",style:{marginRight:"15px"},children:[(0,a.jsx)(p.Z,w({fieldName:"enabled",onChange:function(e){e?k(!0):u(w({},s,{enabled:!1}))}},v.Kl,{checked:s.enabled,disabled:!z||!K})),(0,a.jsx)(f.ZP,w({fieldName:"instanceUrl"},v.yi,{value:s.instanceUrl,initialValue:O.instanceUrl,type:h.xA,onChange:V,onSubmit:function(){var e=""!==s.instanceUrl,n=s.instanceUrl.startsWith("https://");e&&n||((0,v.Si)({apiPath:v.Kl.apiPath,data:{value:!1}}),u(w({},s,{enabled:!1})))}})),(0,a.jsx)(p.Z,w({fieldName:"isPrivate"},v.LC,{checked:s.isPrivate,disabled:!U})),(0,a.jsx)(p.Z,w({fieldName:"nsfw",useSubmit:!0},v.B_,{checked:s.nsfw,disabled:!z})),(0,a.jsx)(f.ZP,w({required:!0,fieldName:"username",type:h.Kx},v.Xc,{value:s.username,initialValue:D,onChange:V,disabled:!U})),(0,a.jsx)(f.ZP,w({fieldName:"goLiveMessage"},v.BF,{type:h.Sk,value:s.goLiveMessage,initialValue:L,onChange:V,disabled:!U})),(0,a.jsx)(p.Z,w({fieldName:"showEngagement"},v.FE,{checked:s.showEngagement,disabled:!U}))]}),(0,a.jsx)(l.Z,{span:8,className:"form-module",children:(0,a.jsx)(m.Z,{title:v.dR.label,placeholder:v.dR.placeholder,description:v.dR.tip,values:s.blockedDomains,handleDeleteIndex:function(e){s.blockedDomains.splice(e,1),n()},handleCreateString:function(e){var t;try{t=new URL(e).host}catch(a){t=e}s.blockedDomains.push(t),V({fieldName:"blockedDomains",value:s.blockedDomains}),n()},submitStatus:(0,b.kg)(Z)})})]}),y&&(0,a.jsx)(j,{cancelPressed:function(){k(!1),u(w({},s,{enabled:!1}))},okPressed:function(){k(!1),u(w({},s,{enabled:!0}))}})]})}j.propTypes={cancelPressed:d().func.isRequired,okPressed:d().func.isRequired}}},function(e){e.O(0,[674,774,888,179],(function(){return n=50291,e(e.s=n);var n}));var n=e.O();_N_E=n}]);